{% extends 'layout.html' %}

{% block title %}
{{ page.title }} - {{ config.title }}
{% endblock %}

{% block content %}
<div id="post" class="center">

    <p class="time">{{ time(page.created, 'MMMM DD, YYYY') }}</p> 

    <h1 class="title">{{ page.title }}</h1>

    <div class="content">{% autoescape false %}{{ page.content }}{% endautoescape %}</div>

    <div class="tags">
    {% for tag in page.tags %}
    <a href="{{ url(tag.url) }}">#{{ tag.name}}</a>
    {% endfor %}
    </div>

    <div class="relate">
        {% if page.prev %}
        {% set prev = post(page.prev) %}
        <p><span>PREV: </span><a rel="prev" href="{{ prev.url }}">{{ prev.title }}</a></p>
        {% endif %}

        {% if page.next %}
        {% set next = post(page.next) %}
        <p><span>NEXT: </span><a rel="next" href="{{ next.url }}">{{ next.title }}</a></p>
        {% endif %}
    </div>

    <div class="comments">
        <div id="disqus_thread"></div>
    </div>

</div>
{% endblock %}

{% block script %}
{% if config.disqus %}
<script>
(function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = '//{{ config.disqus }}.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>
{% else %}
{% endif %}
{% endblock %}
